(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{244:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n(36),s=n.n(c),i=(n(96),n(97),n(22)),o=function(){return Object(i.b)()},l=i.c,u=n(10),d=n.n(u),m=n(16),f=n(11),j=Object(f.b)({name:"weather",initialState:{isLoading:!1,error:!1,status:"",data:[]},reducers:{tempPending:function(e){e.isLoading=!0,e.status="loading"},tempSuccess:function(e,t){var n=t.payload;e.isLoading=!1,e.status="success",e.data=n},tempFailure:function(e,t){var n=t.payload;e.isLoading=!1,e.status="failed",e.data=n}}}),b=j.reducer,x=j.actions,h=x.tempPending,p=x.tempSuccess,O=x.tempFailure,v=b,w=n(84),g=n.n(w);!function(e){e.CELSIUS="celsius",e.FAHRENHEIT="fahrenheit"}(a||(a={}));var y="".concat("https://api.openweathermap.org/data/2.5/forecast?q=lagos&appid=").concat("8edde17c9f001bcd8e07a5bb58bc0208"),N=n(85),C=n.n(N),k=n(54),S=n.n(k),E=function(e,t){return t===a.CELSIUS?Math.floor(e-273):Math.floor(9*(e-273.15)/5+32)},A=function(e){var t=new Date(1e3*e);return S()(t).format("HH:mm A")},L=function(e){return function(e){var t=new Date(1e3*e);return S()(t).format("ddd, MMMM DD")}(e.dt)},F=function(){return function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,l,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,e.next=4,g.a.get(y,{headers:{"Content-Type":"application/json"}});case 4:if(n=e.sent){for(c in a=C()(n.data.list,L),r=[],a){for(s=0,i=[],o=[],l=0;l<a[c].length;l++)s+=a[c][l].main.temp,u=a[c][l].dt,i.push(A(u)),o.push(a[c][l].main.temp);m={id:a[c][0].dt,day:c,Avg_temp:Math.floor(s/a[c].length),description:a[c][0].weather[0].description,icon:a[c][0].weather[0].icon,hourlytemp:o,hours:i},r.push(m)}t(p(r))}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(O("Oops, something went Wrong..."));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},I=n(86),U=n(2),W=function(){return Object(U.jsx)("div",{"data-testid":"loading",className:" animate-spin  flex flex-col items-center justify-center text-5xl text-yellow-600 ",children:Object(U.jsx)(I.a,{})})},z=n(9),M=n(91),H=function(){var e=l((function(e){return e.activeCard})).activeCard,t=l((function(e){return e.unit})).unit,n=Object(r.useState)(window.innerWidth<=600),a=Object(z.a)(n,2),c=a[0],s=a[1],i=function(){s(window.innerWidth<=600)};Object(r.useEffect)((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]);var o=e.hours,u=e.hourlytemp.map((function(e){return E(e,t)})),d={labels:o,datasets:[{label:"".concat(e.day),data:u,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(U.jsxs)("div",{"data-testid":"barchart",className:" md:w-2/3   text-yellow-800 font-myFontBold relative h-full ",children:[Object(U.jsx)("h1",{className:"title",children:"Temperature Statistics"}),Object(U.jsx)(M.a,{data:d,height:c?250:150,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})]})},T=Object(f.b)({name:"unit",initialState:{unit:"celsius"},reducers:{setUnit:function(e,t){var n=t.payload;e.unit=n}}}),B=T.reducer,_=T.actions.setUnit,D=B;function R(){var e=o(),t=Object(r.useState)(a.CELSIUS),n=Object(z.a)(t,2),c=n[0],s=n[1],i=function(t){var n,a=t.target.value;s(a),e((n=a,function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(_(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(U.jsxs)("div",{className:" w-full flex   items-center justify-between text-yellow-800 font-myFontBold font-extra-black  ",children:[Object(U.jsxs)("form",{className:"flex items-center",children:[Object(U.jsx)("input",{type:"radio",name:"temp",value:a.CELSIUS,checked:c===a.CELSIUS,onChange:i}),Object(U.jsxs)("label",{htmlFor:"celsius",className:"flex mr-4 ml-1",children:[Object(U.jsx)("span",{className:" hidden md:flex mr-1",children:"Celsius"}),"(\xb0C)"]}),Object(U.jsx)("input",{type:"radio",name:"temp",value:a.FAHRENHEIT,className:" ",onChange:i}),Object(U.jsxs)("label",{htmlFor:"fahrenheit",className:"flex ml-1",children:[Object(U.jsx)("span",{className:" hidden md:flex mr-1",children:"Fahrenheit"})," (\xb0F)"]})]}),Object(U.jsx)("button",{type:"button",role:"button","data-testid":"refresh",className:"bg-gray-200 p-2  shadow-lg rounded-lg  md:transform hover:-translate-y-1  hover:scale-105 transition duration-500 ease-in-out",onClick:function(){return e(F())},children:"Refresh"})]})}var J=n(5),P=(n(227),n(228),n(89)),q=n.n(P),Z=(n(244),Object(f.b)({name:"activeCard",initialState:{error:!1,status:"",activeCard:{id:0,day:"",Avg_temp:0,description:"",icon:"",hourlytemp:[],hours:[]}},reducers:{setActiveCard:function(e,t){var n=t.payload;e.activeCard=n,e.status="success"}}})),G=Z.reducer,K=Z.actions.setActiveCard,Q=G,V=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(K(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=n(37),Y=function(e){var t=e.style,n=e.onClick;return Object(U.jsx)("button",{className:"absolute -top-3   right-6 text-red-900 text-2xl md:text-5xl z-10",style:Object(J.a)({},t),onClick:n,children:Object(U.jsx)(X.b,{})})},$=function(e){var t=e.style,n=e.onClick;return Object(U.jsx)("button",{className:"absolute text-red-900 top-20 left-0 text-2xl md:text-5xl z-10 align-middle",style:Object(J.a)(Object(J.a)({},t),{},{display:"".concat(null==n?"none":"block")}),onClick:n,children:Object(U.jsx)(X.a,{})})},ee=function(e){var t=e.day,n=e.Avg_temp,a=e.description,r=e.icon,c=e.onClick,s=l((function(e){return e.unit})).unit;return Object(U.jsxs)("li",{className:" bg-gray-200 text-red-900   md:h-52  mx-2 pt-2 md:pt-0 md:w-64 my-4 md:my-3 md:mx-auto shadow-lg rounded-lg md:transform hover:-translate-y-1  hover:scale-105 transition duration-500 ease-in-out list-none ",onClick:c,children:[Object(U.jsx)("span",{className:"block flex justify-center font-myFont mb-4",children:t}),Object(U.jsx)("div",{className:" w-full flex  items-center justify-center text-5xl text-yellow-800 font-extra-black font-myFontBold",children:Object(U.jsxs)("span",{className:"  ",children:[n,Object(U.jsx)("span",{className:" ",children:"celsius"===s?"\xb0C":"\xb0F"})]})}),Object(U.jsxs)("div",{className:"flex w-full items-center  ",children:[Object(U.jsx)("img",{src:r,alt:"day's weather",className:""}),Object(U.jsx)("span",{className:" block ml-2 capitalize",children:a})]})]})},te=function(){var e=l((function(e){return e.weather})).data,t=l((function(e){return e.unit})).unit,n=o();n(V(e[0]));var a=Object(r.useState)(window.innerWidth<=600),c=Object(z.a)(a,2),s=c[0],i=c[1],u=function(){return i(window.innerWidth<=600)};Object(r.useEffect)((function(){return window.addEventListener("resize",u),function(){return window.removeEventListener("resize",u)}}),[]);var d={dots:!1,autoplay:!1,speed:400,infinite:!1,nextArrow:Object(U.jsx)("span",{className:"bg-red-400",children:Object(U.jsx)(Y,{})}),prevArrow:Object(U.jsx)($,{}),slidesToShow:s?1:3,slidesToScroll:s?1:3};return Object(U.jsx)("section",{"data-testid":"card",className:"",children:Object(U.jsx)(q.a,Object(J.a)(Object(J.a)({},d),{},{className:"relative px-8 ",children:e.map((function(e,a){var r=e.day,c=e.description,s=e.Avg_temp,i=e.icon;return Object(U.jsx)(ee,{day:r,Avg_temp:E(s,t),description:c,icon:"".concat("https://openweathermap.org/img/wn/").concat(i,"@2x.png"),onClick:function(){return n(V(e))}},a)}))}))})},ne=function(){return Object(U.jsxs)("section",{className:" md:w-4/5 md:px-0 md:px-2 px-4 w-full h-screen flex text-red-900 flex-col items-center ",children:[Object(U.jsx)("h1",{className:" font-myfontBold text-3xl md:text-5xl mt-4 md:mt-4 flex items-center justify-center",children:"Sky Up Weather"}),Object(U.jsx)("p",{className:"md:my-2 my-4 text-center",children:"(Showing Weather information for Lagos, Nigeria)"}),Object(U.jsx)("div",{className:"w-full  flex items-center",children:Object(U.jsx)(R,{})}),Object(U.jsx)("div",{className:" w-full  ",children:Object(U.jsx)(te,{})}),Object(U.jsx)("div",{className:" md:w-full mt-6 md:mt-2 h-auto  flex items-center justify-center",children:Object(U.jsx)(H,{})})]})},ae=n(90),re=function(){return Object(U.jsxs)("div",{"data-testid":"error",className:"flex flex-col items-center justify-center text-3xl md:text-5xl text-yellow-600 ",children:[Object(U.jsx)(ae.a,{}),Object(U.jsx)("p",{className:"md:text-3xl text-xl",children:"Ooops, there was an error"})]})};var ce=function(){var e=o(),t=l((function(e){return e.weather})).status;return Object(r.useEffect)((function(){e(F())}),[]),Object(U.jsx)("main",{"data-testid":"weather-app",className:"h-screen w-screen flex flex-col items-center ".concat("success"!==t?"justify-center":""," "),children:"loading"===t?Object(U.jsx)(W,{}):"success"===t?Object(U.jsx)(ne,{}):Object(U.jsx)(re,{})})},se=Object(f.a)({reducer:{weather:v,unit:D,activeCard:Q}});s.a.render(Object(U.jsx)(i.a,{store:se,children:Object(U.jsx)(ce,{})}),document.getElementById("root"))},96:function(e,t,n){},97:function(e,t,n){}},[[245,1,2]]]);
//# sourceMappingURL=main.97a8913a.chunk.js.map